## GiÆ¡Ìi thiÃªÌ£u
CaÌc hÃªÌ£ thÃ´Ìng peer-to-peer vaÌ€ Æ°Ìng duÌ£ng laÌ€ caÌc hÃªÌ£ thÃ´Ìng phÃ¢n taÌn maÌ€ khÃ´ng coÌ sÆ°Ì£ kiÃªÌ‰m soaÌt tÃ¢Ì£p trung hoÄƒÌ£c tÃ´Ì‰ chÆ°Ìc theo phÃ¢n cáº¥p, trong Ä‘oÌ mÃ´Ìƒi node chaÌ£y phÃ¢Ì€n mÃªÌ€m vÆ¡Ìi chÆ°Ìc nÄƒng tÆ°Æ¡ng Ä‘Æ°Æ¡ng. xem laÌ£i caÌc tiÌnh nÄƒng cuÌ‰a caÌc Æ°Ìng duÌ£ng peer-to-peer gÃ¢Ì€n Ä‘Ã¢y mang laÌ£i mÃ´Ì£t danh saÌch daÌ€i: lÆ°u trÆ°Ìƒ dÆ°Ì£ phoÌ€ng, sá»± lÃ¢u dÃ i, lÆ°Ì£a choÌ£n caÌc maÌy chuÌ‰ kÃªÌ bÃªn, Ã¢Ì‰n danh, tiÌ€m kiÃªÌm, xaÌc thÆ°Ì£c vaÌ€ Ä‘ÄƒÌ£t tÃªn theo cÃ¢Ìp bÃ¢Ì£c. mÄƒÌ£c duÌ€ coÌ nhiÃªÌ€u tiÌnh nÄƒng phong phuÌ, hoaÌ£t Ä‘Ã´Ì£ng cÃ´Ìt loÌƒi trong hÃ¢Ì€u hÃªÌt caÌc hÃªÌ£ thÃ´Ìng peer-to-peer laÌ€ viÌ£ triÌ hiÃªÌ£u quaÌ‰ cuÌ‰a caÌc muÌ£c dÆ°Ìƒ liÃªÌ£u.  sÆ°Ì£ Ä‘oÌng goÌp cuÌ‰a baÌ€i baÌo laÌ€ **mÃ´Ì£t giao thÆ°Ìc coÌ khaÌ‰ nÄƒng mÆ¡Ì‰ rÃ´Ì£ng cho viÃªÌ£c tiÌ€m kiÃªÌm trong mÃ´Ì£t hÃªÌ£ thÃ´Ìng peer-to-peer nÄƒng Ä‘Ã´Ì£ng vÆ¡Ìi caÌc node tham gia vaÌ€ rÆ¡Ì€i Ä‘i thÆ°Æ¡Ì€ng xuyÃªn**.     
Giao thÆ°Ìc Chord chiÌ‰ hÃ´Ìƒ trÆ¡Ì£ mÃ´Ì£t hoaÌ£t Ä‘Ã´Ì£ng: Ä‘Æ°a ra mÃ´Ì£t key, noÌ aÌnh xaÌ£ tÆ¡Ìi key lÃªn mÃ´Ìƒi node. TuyÌ€ thuÃ´Ì£c vaÌ€o Æ°Ìng duÌ£ng sÆ°Ì‰ duÌ£ng chord, node Ä‘oÌ coÌ thÃªÌ‰ coÌ traÌch nhiÃªÌ£m lÆ°u trÆ°Ìƒ mÃ´Ì£t giaÌ triÌ£ Ä‘Æ°Æ¡Ì£c liÃªn kÃªÌt vÆ¡Ìi key. Chord sÆ°Ì‰ duÌ£ng haÌ€m bÄƒm Ä‘Ã´Ì€ng nhÃ¢Ìt Ä‘ÃªÌ‰ gaÌn caÌc key tÆ¡Ìi caÌc node Chord. HaÌ€m bÄƒm Ä‘Ã´Ì€ng nhÃ¢Ìt coÌ xu hÆ°Æ¡Ìng cÃ¢n bÄƒÌ€ng taÌ‰i, tÆ°Ì€ Ä‘oÌ mÃ´Ìƒi node nhÃ¢Ì£n Ä‘Æ°á»£c khoáº£ng cuÌ€ng sÃ´Ì lÆ°Æ¡Ì£ng key, vaÌ€ yÃªu cÃ¢Ì€u tÆ°Æ¡ng Ä‘Ã´Ìi iÌt sá»± di chuyá»ƒn caÌc key khi caÌc node tham gia vaÌ€ rÆ¡Ì€i khoÌ‰i hÃªÌ£ thÃ´Ìng.     
CÃ´ng viÃªÌ£c trÆ°Æ¡Ìc Ä‘Ã¢y vÃªÌ€ viÃªÌ£c bÄƒm Ä‘Ã´Ì€ng nhÃ¢Ìt giaÌ‰ sÆ°Ì‰ rÄƒÌ€ng mÃ´Ìƒi node biÃªÌt Ä‘Æ°Æ¡Ì£c gÃ¢Ì€n hÃªÌt caÌc node khaÌc trong hÃªÌ£ thÃ´Ìng, mÃ´Ì£t caÌch tiÃªÌp cÃ¢Ì£n maÌ€ khÃ´ng mÆ¡Ì‰ rÃ´Ì£ng vÆ¡Ìi sÃ´Ì lÆ°Æ¡Ì£ng lÆ¡Ìn caÌc node. ngÆ°Æ¡Ì£c laÌ£i, mÃ´Ìƒi node Chord chá»‰ cÃ¢Ì€n Ä‘iÌ£nh tuyÃªÌn thÃ´ng tin vÃªÌ€ mÃ´Ì£t vaÌ€i node khaÌc. BÆ¡Ì‰i baÌ‰ng Ä‘iÌ£nh tuyÃªÌn Ä‘aÌƒ Ä‘Æ°Æ¡Ì£c phÃ¢n taÌn, mÃ´Ì£t node chord truyÃªÌ€n thÃ´ng vÆ¡Ìi caÌc node khaÌc Ä‘ÃªÌ‰ thÆ°Ì£c hiÃªÌ£n tra cÆ°Ìu.    
Trong traÌ£ng thaÌi Ã´Ì‰n Ä‘iÌ£nh, mÃ´Ì£t hÃªÌ£ thÃ´Ìng N-Node, mÃ´Ìƒi node giÆ°Ìƒ thÃ´ng tin vÃªÌ€ O(log N) node khaÌc, vaÌ€ giaÌ‰ quyÃªÌt tÃ¢Ìt caÌ‰ caÌc tra cÆ°Ìu thÃ´ng qua O(log N) thÃ´ng Ä‘iÃªÌ£p tÆ¡Ìi caÌc node khaÌc. Chord duy triÌ€ thÃ´ng tin Ä‘iÌ£nh tuyÃªÌn khi caÌc node tham gia vaÌ€ rÆ¡Ì€i khoÌ‰i hÃªÌ£ thÃ´Ìng. mÃ´Ì£t node chord yÃªu cÃ¢Ì€u thÃ´ng tin vÃªÌ€ O(log N) node khaÌc Ä‘ÃªÌ‰ Ä‘iÌ£nh tuyÃªÌn hiÃªÌ£u quaÌ‰, nhÆ°ng hiÃªÌ£u suÃ¢Ìt giaÌ‰m bÆ¡Ìt Ä‘aÌng kÃªÌ‰ khi thÃ´ng tin Ä‘oÌ Ä‘aÌƒ lÃ´Ìƒi thÆ¡Ì€i. Ä‘iÃªÌ€u naÌ€y quan troÌ£ng trong thÆ°Ì£c tÃªÌ viÌ€ caÌc node seÌƒ tham gia vaÌ€ rÆ¡Ì€i khoÌ‰i mÃ´Ì£t caÌch tuyÌ€ yÌ, vaÌ€ sÆ°Ì£ nhÃ¢Ìt quaÌn cuÌ‰a O(log N) traÌ£ng thaÌi coÌ thÃªÌ‰ khoÌ duy triÌ€. chiÌ‰ mÃ´Ì£t mÃ¢Ì‰u thÃ´ng tin trÃªn mÃ´Ì£t node cÃ¢Ì€n Ä‘Æ°Æ¡Ì£c sÆ°Ì‰a chÆ°Ìƒa Ä‘ÃªÌ‰ Chord Ä‘aÌ‰m baÌ‰o chiÌnh xaÌc Ä‘iÌ£nh tuyÃªÌn cuÌ‰a caÌc cÃ¢u truy vÃ¢Ìn.  Chord coÌ mÃ´Ì£t thuÃ¢Ì£t toaÌn Ä‘Æ¡n giaÌ‰n Ä‘ÃªÌ‰ duy triÌ€ thÃ´ng tin naÌ€y trong mÃ´Ì£t mÃ´i trÆ°Æ¡Ì€ng linh Ä‘Ã´Ì£ng.    
## mÃ´ hiÌ€nh hÃªÌ£ thÃ´Ìng
Chord Ä‘Æ¡n giaÌ‰n hoaÌ viÃªÌ£c thiÃªÌt kÃªÌ hÃªÌ£ thÃ´Ìng peer-to-peer vaÌ€ caÌc Æ°Ìng duÌ£ng dÆ°Ì£a trÃªn noÌ bÄƒÌ€ng caÌch giaÌ‰i quyÃªÌt nhÆ°Ìƒng vÃ¢Ìn Ä‘ÃªÌ€ khoÌ khÄƒn naÌ€y:      
- **cÃ¢n bÄƒÌ€ng taÌ‰i**: Chord hoaÌ£t Ä‘Ã´Ì£ng nhÆ° mÃ´Ì£t nhÆ° mÃ´Ì£t haÌ€m bÄƒm phÃ¢n taÌn, phÃ¢n bÃ´Ì Ä‘ÃªÌ€u cÃ¡c khoaÌ trÃªn caÌc node, Ä‘iÃªÌ€u naÌ€y cung cÃ¢Ìp mÃ´Ì£t mÆ°Ìc Ä‘Ã´Ì£ cÃ¢n bÄƒÌ€ng taÌ‰i tÆ°Ì£ nhiÃªn.
- **sÆ°Ì£ phÃ¢n quyÃªÌ€n**: Chord Ä‘Æ°Æ¡Ì£c phÃ¢n taÌn hoaÌ€n toaÌ€n, khÃ´ng node naÌ€o quan troÌ£ng hÆ¡n node naÌ€o. Ä‘iÃªÌ€u naÌ€y caÌ‰i thiÃªÌ£n tiÌnh maÌ£nh meÌƒ vaÌ€ laÌ€m cho Chord thiÌch hÆ¡Ì£p cho  Æ°Ìng duÌ£ng Peer-to-peer Ä‘Æ°Æ¡Ì£c tÃ´Ì‰ chÆ°Ìc loÌ‰ng leÌ‰o.
 - **khaÌ‰ nÄƒng mÆ¡Ì‰ rÃ´Ì£ng**: chi phiÌ cuÌ‰a mÃ´Ì£t tra cÆ°Ìu Chord tÄƒng lÃªn theo sÃ´Ì lÆ°Æ¡Ì£ng node. ViÌ€ vÃ¢Ì£y thÃ¢Ì£m chiÌ caÌc hÃªÌ£ thÃ´Ìng lÆ¡Ìn laÌ€ khaÌ‰ thi. khÃ´ng coÌ Ä‘iÃªÌ€u chiÌ‰nh tham sÃ´Ì Ä‘Æ°Æ¡Ì£c yÃªu cÃ¢Ì€u Ä‘ÃªÌ‰ Ä‘áº¡t Ä‘Æ°Æ¡Ì£c tiÌ‰ lÃªÌ£ naÌ€y.   
 - **tiÌnh khaÌ‰ duÌ£ng**: chord tÆ°Ì£ Ä‘Ã´Ì£ng Ä‘iÃªÌ€u chiÌ‰nh caÌc baÌ‰ng nÃ´Ì£i bÃ´Ì£ cuÌ‰a noÌ Ä‘ÃªÌ‰ phaÌ‰n aÌnh caÌc node mÆ¡Ìi tham gia cuÌƒng nhÆ° caÌc node bá»‹ lÃ´Ìƒi, Ä‘aÌ‰m baÌ‰m rÄƒÌ€ng trÆ°Ì€ caÌc lÃ´Ìƒi chiÌnh trong maÌ£ng bÃªn dÆ°Æ¡Ìi, node chá»©a mÃ´Ì£t khoaÌ coÌ thÃªÌ‰ luÃ´n Ä‘Æ°Æ¡Ì£c tiÌ€m thÃ¢Ìy. Ä‘iÃªÌ€u naÌ€y Ä‘uÌng ngay caÌ‰ khi hÃªÌ£ thÃ´Ìng Ä‘ang Æ¡Ì‰ trong mÃ´Ì£t traÌ£ng thaÌi liÃªn tuÌ£c thay Ä‘Ã´Ì‰i.
- **tiÌnh linh hoaÌ£t**: Chord khÃ´ng raÌ€ng buÃ´Ì£c vÃªÌ€ cÃ¢Ìu truÌc cuÌ‰a caÌc key maÌ€ noÌ tiÌ€m kiÃªÌm: khÃ´ng gian khoaÌ Chord laÌ€  bÄƒÌ€ng phÄƒÌ‰ng. Ä‘iÃªÌ€u naÌ€y cho pheÌp Æ°Ìng duÌ£ng mÃ´Ì£t sÃ´Ì lÆ°Æ¡Ì£ng lÆ¡Ìn sÆ°Ì£ linh hoaÌ£t trong caÌch hoÌ£ aÌnh xaÌ£ tÃªn cuÌ‰a hoÌ£ tÆ¡Ìi caÌc key.   

PhÃ¢Ì€n mÃªÌ€m Chord coÌ khuÃ´n daÌ£ng cuÌ‰a mÃ´Ì£t thÆ° viÃªÌ£n Ä‘ÃªÌ‰ liÃªn kÃªÌ vÆ¡Ìi caÌc Æ°Ìng duÌ£ng sÆ°Ì‰ duÌ£ng noÌ. Æ°Ìng duÌ£ng tÆ°Æ¡ng taÌc vÆ¡Ìi Chord theo hai caÌch chiÌnh:
- thÆ°Ì nhÃ¢Ìt: thÆ° viÃªÌ£n chord cung cÃ¢Ìp mÃ´Ì£t chÆ°Ìc nÄƒng *lookup(key)* mang laÌ£i Ä‘iÌ£a chiÌ‰ IP cuÌ‰a node chá»© key Ä‘oÌ.     
- thÆ°Ì hai: phÃ¢Ì€n mÃªÌ€m chord trÃªn mÃ´Ìƒi node thÃ´ng baÌo viÃªÌ£c aÌp duÌ£ng caÌc thay Ä‘Ã´Ì‰i trong bÃ´Ì£ caÌc key maÌ€ node chá»©a nÃ³. Ä‘iÃªÌ€u naÌ€y cho pheÌp phÃ¢Ì€n mÃªÌ€m Æ°Ìng duÌ£ng, viÌ duÌ£: di chuyÃªÌ‰n caÌc giaÌ triÌ£ tÆ°Æ¡ng Æ°Ìng tÆ¡Ìi nÆ¡i mÆ¡Ìi cuÌ‰a chuÌng khi mÃ´Ì£t node mÆ¡Ìi tham gia.    

ViÃªÌ£c Æ°Ìng duÌ£ng chord laÌ€ Ä‘aÌng tin cÃ¢Ì£y cho cung cÃ¢Ìp bÃ¢Ìt kyÌ€ yÃªu cÃ¢Ì€u xaÌc thÆ°Ì£c, bÃ´Ì£ nhÆ¡Ì Ä‘ÃªÌ£m, nhÃ¢n rÃ´Ì£ng, vaÌ€ thÃ¢n thiÃªÌ£n vÆ¡Ìi ngÆ°Æ¡Ì€i sÆ°Ì‰ duÌ£ng Ä‘ÄƒÌ£t tÃªn dÆ°Ìƒ liÃªÌ£u. khÃ´ng gian khoaÌ phÄƒÌ‰ng cuÌ‰a Chord laÌ€m giaÌ‰m viÃªÌ£c thÆ°Ì£c hiÃªÌ£n caÌc tiÌnh nÄƒng naÌ€y. viÌ duÌ£: mÃ´Ì£ Æ°Ìng duÌ£ng coÌ thÃªÌ‰ xaÌc thÆ°Ì£c dÆ°Ìƒ liÃªÌ£u bÄƒÌ€ng caÌch lÆ°u trÆ°Ìƒ noÌ dÆ°Æ¡Ìi mÃ´Ì£t khoaÌ Ä‘Æ°Æ¡Ì£c bÄƒÌt nguÃ´Ì€n tÆ°Ì€ mÃ´Ì£t mÃ¢Ì£t maÌƒ bÄƒm cuÌ‰a dÆ°Ìƒ liÃªÌ£u. tÆ°Æ¡ng tÆ°Ì£, mÃ´Ì£t Æ°Ìng duÌ£ng coÌ thÃªÌ‰ nhÃ¢n baÌ‰n dÆ°Ìƒ liÃªÌ£u bÄƒÌ€ng caÌch lÆ°u trÆ°Ìƒ noÌ dÆ°Æ¡Ìi hai khoaÌ riÃªng biÃªÌ£t bÄƒÌt nguÃ´Ì€n tÆ°Ì€ viÃªÌ£c nhÃ¢Ì£n daÌ£ng mÆ°Ìc Æ°Ìng duÌ£ng cuÌ‰a dÆ°Ìƒ liÃªÌ£u.     
<img src="../image/fig1.png" >
 [fig1.jpg](../fig1.png)   <br>
 HiÌ€nh trÃªn laÌ€ cÃ¢Ìu truÌc cuÌ‰a mÃ´Ì£t loaÌ£i Æ°Ìng duÌ£ng.
 - **Layer cao nhÃ¢Ìt** thÆ°Ì£c hiÃªÌ£n chÆ°Ìc nÄƒng Ä‘ÄƒÌ£c biÃªÌ£t nhÆ° hÃªÌ£ thÃ´Ìng tÃ¢Ì£p tin siÃªu dÆ°Ìƒ liÃªÌ£u .
 - **LÆ¡Ìp tiÃªÌp theo** thÆ°Ì£c hiÃªÌ£n mÃ´Ì£t baÌ‰ng bÄƒm phÃ¢n taÌn  muÌ£c Ä‘iÌch chung maÌ€ nhiÃªÌ€u Æ°Ìng duÌ£ng sÆ°Ì‰ duÌ£ng Ä‘ÃªÌ‰ cheÌ€n vaÌ€  lÃ¢Ìy caÌc khÃ´Ìi dÆ°Ìƒ liÃªÌ£u Ä‘Æ°Æ¡Ì£c nhÃ¢Ì£n diÃªÌ£n vÆ¡Ìi caÌc khoaÌ duy nhÃ¢Ìt. baÌ‰ng bÄƒm phÃ¢n taÌn seÌƒ lÆ°u trÆ°Ìƒ vaÌ€ nhÃ¢n baÌ‰n caÌc khÃ´Ìi. BaÌ‰ng bÄƒm phÃ¢n taÌn sÆ°Ì‰ duÌ£ng Chord Ä‘ÃªÌ‰ xaÌc Ä‘iÌ£nh node chiÌ£u traÌch nhiÃªÌ£m cho viÃªÌ£c lÆ°u trÆ°Ìƒ mÃ´Ì£t khÃ´Ìi. vaÌ€ sau Ä‘oÌ truyÃªÌ€n thÃ´ng vÆ¡Ìi maÌy chuÌ‰ lÆ°u trÆ°Ìƒ khÃ´Ìi trÃªn node Ä‘oÌ Ä‘ÃªÌ‰ Ä‘oÌ£c hoÄƒÌ£c ghi khÃ´Ìi.  


## Giao thÆ°Ìc Chord
phÃ¢Ì€n naÌ€y mÃ´ taÌ‰ giao thÆ°Ìc Chord. ***giao thÆ°Ìc Chord xaÌc Ä‘iÌ£nh caÌch tiÌ€m ra viÌ£ triÌ cuÌ‰a caÌc key, caÌch caÌc node mÆ¡Ìi tham gia hÃªÌ£ thÃ´Ìng vaÌ€ caÌch khÃ´i phuÌ£c tÆ°Ì€ lÃ´Ìƒi cuÌ‰a caÌc node hiÃªÌ£n coÌ***. Trong baÌ€i baÌo naÌ€y giaÌ‰ sÆ°Ì‰ rÄƒÌ€ng mÃ´i trÆ°Æ¡Ì€ng truyÃªÌ€n thÃ´ng Æ¡Ì‰ trong maÌ£ng lÆ°Æ¡Ìi cÆ¡ baÌ‰n maÌ€ caÌ‰ hai Ä‘Ã´Ìi xÆ°Ìng ( nÃªÌu A coÌ thÃªÌ‰ Ä‘iÌ£nh tuyÃªÌn tÆ¡Ìi B, thiÌ€ B coÌ thÃªÌ‰ Ä‘iÌ£nh tuyÃªÌn tÆ¡Ìi A) vaÌ€ chuyÃªÌ‰n tiÃªÌp( nÃªÌu A coÌ thÃªÌ‰ Ä‘iÌ£nh tuyÃªÌn tÆ¡Ìi B vaÌ€ B -> C, thiÌ€ A coÌ thÃªÌ‰ Ä‘iÌ£ng tuyÃªÌn tÆ¡Ìi C).
###  **A. TÃ´Ì‰ng quan**
Chord cung cÃ¢Ìp tiÌnh toaÌn phÃ¢n taÌn nhanh cuÌ‰a mÃ´Ì£t haÌ€m bÄƒm aÌnh xaÌ£ caÌc key tÆ¡Ìi caÌc node cuÌ‰a noÌ. CHord gaÌn caÌc key vÆ¡Ìi caÌc node thÃ´ng qua haÌ€m bÄƒm nhÃ¢Ìt quaÌn, coÌ mÃ´Ì£t sÃ´Ì Ä‘ÄƒÌ£c tiÌnh mong muÃ´Ìn. vÆ¡Ìi xaÌc suÃ¢Ìt cao haÌ€m bÄƒm cÃ¢n bÄƒÌ€ng taÌ‰i (tÃ¢Ìt caÌ‰ caÌc node nhÃ¢Ì£n Ä‘Æ°Æ¡Ì£c cuÌ€ng sÃ´Ì lÆ°Æ¡Ì£ng key). ngoaÌ€i ra vÆ¡Ìi xaÌc suÃ¢Ìt cao, khi mÃ´Ì£t node thÆ°Ì N tham gia (hoÄƒÌ£c rÆ¡Ì€i khoÌ‰i) maÌ£ng lÆ°Æ¡Ìi, chiÌ‰ mÃ´Ì£t phÃ¢Ì€n O(1/N) cuÌ‰a caÌc key Ä‘Æ°Æ¡Ì£c chuyÃªÌ‰n Ä‘ÃªÌn mÃ´Ì£t viÌ£ triÌ khaÌc - Ä‘Ã¢y roÌƒ raÌ€ng laÌ€ mÆ°Ìc tÃ´Ìi thiÃªÌ‰u cÃ¢Ì€n thiÃªÌt Ä‘ÃªÌ‰ duy triÌ€ mÃ´Ì£t cÃ¢n bÄƒÌ€ng taÌ‰i.   
Chord caÌ‰i thiÃªÌ£n khaÌ‰ nÄƒng mÆ¡Ì‰ rÃ´Ì£ng cuÌ‰a haÌ€m bÄƒm nhÃ¢Ìt quaÌn bÄƒÌ€ng caÌch traÌnh yÃªu cÃ¢Ì€u mÃ´Ì£t node biÃªÌt vÃªÌ€ moÌ£i node khaÌc. mÃ´Ì£t node chiÌ‰ cÃ¢Ì€n mÃ´Ì£t sÃ´Ì lÆ°Æ¡Ì£ng nhoÌ‰ thÃ´ng tin Ä‘iÌ£nh tuyÃªÌn vÃªÌ€ caÌc node khaÌc. BÆ¡Ì‰i viÌ€ thÃ´ng tin naÌ€y Ä‘Æ°Æ¡Ì£c PhÃ¢n phÃ´Ìi, mÃ´Ì£t node giaÌ‰i quyÃªÌt chÆ°Ìc nÄƒng bÄƒm bÄƒÌ€ng caÌch truyÃªÌ€n thÃ´ng vÆ¡Ìi caÌc node khaÌc. trong mÃ´Ì£t maÌ£ng lÆ°Æ¡Ìi N node, mÃ´Ìƒi node duy triÌ€ thÃ´ng tin vÃªÌ€ O(log N) node khaÌc, vaÌ€ mÃ´Ì£t tra cÆ°Ìu yÃªu cÃ¢Ì€u O(log N) thÃ´ng Ä‘iÃªÌ£p.   
###  **B. HÃ m bÄƒm nháº¥t quÃ¡n (Consistent Hashing)**
HaÌ€m bÄƒm nhÃ¢Ìt quaÌn gaÌn mÃ´Ìƒi node vaÌ€ key Ä‘iÌ£nh danh m bit sÆ°Ì‰ duÌ£ng SHA-1 nhÆ° laÌ€ mÃ´Ì£t haÌ€m bÄƒm cÆ¡ sÆ¡Ì‰. Ä‘iÌ£nh danh cuÌ‰a mÃ´Ì£t node Ä‘Æ°Æ¡Ì£c choÌ£n bÄƒÌ€ng caÌch bÄƒm Ä‘iÌ£a chiÌ‰ IP cuÌ‰a node, trong khi mÃ´Ì£t Ä‘á»‹nh danh key Ä‘Æ°Æ¡Ì£c taÌ£o ra bÄƒÌ€ng caÌch bÄƒm key. chuÌng ta seÌƒ sÆ°Ì‰ duÌ£ng thuÃ¢Ì£t ngÆ°Ìƒ 'key' Ä‘ÃªÌ‰ chiÌ‰ caÌ‰ hai khoaÌ gÃ´Ìc vaÌ€ hiÌ€nh aÌ‰nh cuÌ‰a noÌ dÆ°Æ¡Ìi chÆ°Ìc nÄƒng bÄƒm. tÆ°Æ¡ng tÆ°Ì£, thuÃ¢Ì£t ngÆ°Ìƒ 'node' seÌƒ aÌm chiÌ‰ node vaÌ€ Ä‘iÌ£nh danh cuÌ‰a noÌ dÆ°Æ¡Ìi chÆ°Ìc nÄƒng bÄƒm. chiÃªÌ€u daÌ€i Ä‘iÌ£nh danh m phaÌ‰i Ä‘uÌ‰ lÆ¡Ìn Ä‘ÃªÌ‰ laÌ€m cho xaÌc suÃ¢Ìt cuÌ‰a hai node hoÄƒÌ£c hai key bÄƒm cho cuÌ€ng mÃ´Ì£t Ä‘iÌ£nh danh gÃ¢Ì€n nhÆ° giÃ´Ìng nhau.     
BÄƒm nhÃ¢Ìt quaÌn gaÌn caÌc key tÆ¡Ìi caÌc node nhÆ° sau: caÌc Ä‘iÌ£nh danh Ä‘Æ°Æ¡Ì£c Ä‘ÄƒÌ£t trÃªn mÃ´Ì£t voÌ€ng troÌ€n module 2<sup>m</sup>. khoaÌ k Ä‘Æ°Æ¡Ì£c gaÌn cho node Ä‘Ã¢Ì€u tiÃªn, node maÌ€ Ä‘Æ°Æ¡Ì£c so saÌnh bÄƒÌ€ng hoÄƒÌ£c theo sau k trong khÃ´ng gian nhÃ¢Ì£n Ä‘iÌ£nh. node naÌ€y Ä‘Æ°Æ¡Ì£c goÌ£i laÌ€ node kÃªÌ tiÃªÌp node k (kyÌ hiÃªÌ£u laÌ€ **successor(k)**). NÃªÌu nhÆ°Ìƒng Ä‘iÌ£nh danh Ä‘Æ°Æ¡Ì£c biÃªÌ‰u diÃªÌƒn dÆ°Æ¡Ìi daÌ£ng mÃ´Ì£t voÌ€ng troÌ€n caÌc sÃ´Ì tÆ°Ì€ 0 Ä‘ÃªÌn 2m-1, thiÌ€ successor(k) laÌ€ node Ä‘Ã¢Ì€u tiÃªn theo chiÃªÌ€u kim Ä‘Ã´Ì€ng hÃ´Ì€ tÆ°Ì€ k.   
![fig2.jpg](../fig2.png) <br>
Figure 2 cho thÃ¢Ìy mÃ´Ì£t voÌ€ng Chord vÆ¡Ìi m=6. voÌ€ng Chord coÌ 10 node vaÌ€ lÆ°u trÆ°Ìƒ 5 key. node kÃªÌ tiÃªÌp cuÌ‰a Ä‘iÌ£nh danh 10 laÌ€ node 14, viÌ€ vÃ¢Ì£y key 10 nÃªn Ä‘Æ°Æ¡Ì£c Ä‘ÄƒÌ£t taÌ£i node 14. tÆ°Æ¡ng tÆ°Ì£ key 24 vÃ  30 nÃªn Ä‘Æ°Æ¡Ì£c Ä‘ÄƒÌ£t taÌ£i node 32, key 38 taÌ£i node 38 vaÌ€ key 54 taÌ£i node 56.    
bÄƒm nhÃ¢Ìt quaÌn Ä‘Æ°Æ¡Ì£c thiÃªÌt kÃªÌ Ä‘ÃªÌ‰ cho pheÌp caÌc node vaÌ€o vaÌ€ ra khoÌ‰i maÌ£ng vÆ¡Ìi sÆ°Ì£ giaÌn Ä‘oaÌ£n laÌ€ tÃ´Ìi thiÃªÌ‰u. Ä‘ÃªÌ‰ duy triÌ€ bÄƒm nhÃ¢Ìt quaÌn aÌnh aÌnh xaÌ£ khi mÃ´Ì£t node n tham gia vaÌ€o maÌ£ng, chÄƒÌc chÄƒÌn caÌc key trÆ°Æ¡Ìc Ä‘Æ°Æ¡Ì£c gaÌn cho node kÃªÌ tiÃªÌp cuÌ‰a n bÃ¢y giÆ¡Ì€ trÆ¡Ì‰ thaÌ€nh gaÌn cho n. khi node n rÆ¡Ì€i khoÌ‰i maÌ£ng. tÃ¢Ìt caÌ‰ caÌc key Ä‘Æ°Æ¡Ì£c gaÌn cho no seÌƒ Ä‘Æ°Æ¡Ì£c gaÌn laÌ£i cho node kÃªÌ tiÃªÌp cuÌ‰a n. khÃ´ng coÌ thay Ä‘Ã´Ì‰i naÌ€o trong viÃªÌ£c gaÌn caÌc key tÆ¡Ìi caÌc node cÃ¢Ì€n xaÌ‰y ra. Trong viÌ duÌ£ trÃªn, nÃªÌu mÃ´Ì£t node Ä‘aÌƒ Ä‘Æ°Æ¡Ì£c tham gia vÆ¡Ìi Ä‘iÌ£ng danh laÌ€ 26, noÌ seÌƒ nÄƒÌm bÄƒÌt khoaÌ vÆ¡Ìi Ä‘iÌ£nh danh 24 tÆ°Ì€ node vÆ¡Ìi Ä‘iÌ£nh danh laÌ€ 32.  
kÃªÌt quaÌ‰ dÆ°Æ¡Ìi Ä‘Ã¢y Ä‘aÌƒ Ä‘Æ°Æ¡Ì£cchÆ°Ìng minh trong caÌc baÌ€i baÌo giÆ¡Ìi thiÃªÌ£u vÃªÌ€ bÄƒm nhÃ¢Ìt quaÌn: 
    ÄÃ´Ìi vÆ¡Ìi moÌ£i tÃ¢Ì£p N node vaÌ€ K key, vÆ¡Ìi xaÌc suÃ¢Ìt cao: 
    1. mÃ´Ìƒi node chiÌ£u traÌch nhiÃªÌ£m cho nhiÃªÌ€u nhÃ¢Ìt (1+ t)K/N keys.
    2. khi mÃ´Ì£t node thÆ°Ì N + 1 tham gia hoÄƒÌ£c rÆ¡Ì€i khoÌ‰i maÌ£ng, traÌch nhiÃªÌ£m cho O(K/N) keys thay Ä‘Ã´Ì‰i Ä‘Æ°Æ¡Ì£c chuyÃªÌ‰n giao.  
khi haÌ€m bÄƒm nhÃ¢Ìt quaÌn Ä‘Æ°Æ¡Ì£c thÆ°Ì£c thi vÆ¡Ìi mÃ´ taÌ‰ bÃªn trÃªn, Ä‘iÌ£nh lyÌ chÆ°Ìng minh mÃ´Ì£t raÌ€ng buÃ´Ì£c cuÌ‰a t= O(LOG n). BaÌ€i baÌo vÃªÌ€ bÄƒm nhÃ¢Ìt quaÌn cho thÃ¢Ìy t coÌ thÃªÌ‰ giaÌ‰m xuÃ´Ìng mÃ´Ì£t hÄƒÌ€ng sÃ´Ì nhoÌ‰ tuyÌ€ yÌ bÄƒÌ€ng caÌch mÃ´Ìƒi node chaÌ£y â„¦(Log N) node aÌ‰o, vÆ¡Ìi mÃ´Ìƒi Ä‘iÌ£nh danh cuÌ‰a chiÌnh noÌ. trong phÃ¢Ì€n coÌ€n laÌ£i chuÌng ta seÌƒ phÃ¢n tiÌch tÃ¢Ìt caÌ‰ caÌc giÆ¡Ìi haÌ£n vÃªÌ€ cÃ´ng viÃªÌ£c trÃªn mÃ´Ì£t node aÌ‰o. nhÆ° vÃ¢Ì£y nÃªÌu mÃ´Ìƒi node thÆ°Ì£c chaÌ£y v caÌc node aÌ‰o, tÃ¢Ìt caÌ‰ caÌc giÆ¡Ìi haÌ£n phaÌ‰i Ä‘Æ°Æ¡Ì£c nhÃ¢n bÆ¡Ì‰i v.  
CuÌ£m tÆ°Ì€ "vÆ¡Ìi xaÌc suÃ¢Ìt cao" Ä‘Æ°Æ¡Ì£c thaÌ‰o luÃ¢Ì£n. mÃ´Ì£t giaÌ‰i thiÌch Ä‘Æ¡n giaÌ‰n laÌ€ caÌc node vaÌ€ key Ä‘Æ°Æ¡Ì£c lÆ°Ì£a choÌ£n ngÃ¢Ìƒu nhiÃªn, coÌ thÃªÌ‰ hÆ¡Ì£p lyÌ trong mÃ´Ì£t mÃ´ hiÌ€nh khÃ´ng Ä‘Ã´Ìi Ä‘iÌ£ch cuÌ‰a thÃªÌ giÆ¡Ìi. sÆ°Ì£ phÃ¢n bÃ´Ì xaÌc suÃ¢Ìt sau Ä‘oÌ laÌ€ sÆ°Ì£ lÆ°Ì£a choÌ£n ngÃ¢Ìƒu nhiÃªn caÌc keys vaÌ€ nodes. vaÌ€ noÌi rÄƒÌ€ng mooitj sÆ°Ì£ lÆ°Ì£a choÌ£n ngÃ¢Ìƒu nhiÃªn nhÆ° vÃ¢Ì£y coÌ leÌƒ khÃ´ng taÌ£o ra mÃ´Ì£t sÆ°Ì£ phÃ¢n bÃ´Ì khÃ´ng cÃ´ng bÄƒÌ€ng. mÃ´Ì£t mÃ´ hiÌ€nh tÆ°Æ¡ng tÆ°Ì£ Ä‘aÌƒ Ä‘Æ°Æ¡Ì£c aÌp duÌ£ng Ä‘ÃªÌ‰ phÃ¢n tiÌch haÌ€m bÄƒm chuÃ¢Ì‰n. haÌ€m bÄƒm chuÃ¢Ì‰n phÃ¢n phÃ´Ìi dÆ°Ìƒ liÃªÌ£u mÃ´Ì£t caÌch hÆ¡Ì£p lyÌ khi tÃ¢Ì£p hÆ¡Ì£p caÌc khoaÌ Ä‘Æ°Æ¡Ì£c bÄƒm laÌ€ ngÃ¢Ìƒu nhiÃªn. khi caÌc keys khÃ´ng laÌ€ ngÃ¢Ìƒu nhiÃªn, nhÆ° vÃ¢Ì£y, mÃ´Ì£t kÃªÌt quaÌ‰ khÃ´ng Ä‘Æ°Æ¡Ì£c Ä‘aÌ‰m baÌ‰o thÆ°Ì£c sÆ°Ì£, Ä‘Ã´Ìi vÆ¡Ìi bÃ¢Ìt kyÌ€ haÌ€m bÄƒm naÌ€o, tÃ´Ì€n taÌ£i mÃ´Ì£t sÃ´Ì key Ä‘Æ°Æ¡Ì£c phÃ¢n phÃ´Ìi rÃ¢Ìt tÃªÌ£ bÆ¡Ì‰i haÌ€m bÄƒm vaÌ€  trong thÆ°Ì£c tÃªÌ, Ä‘iÃªÌ€u Ä‘oÌ laÌ€ khÃ´ng thÃªÌ‰ xaÌ‰y ra. chuÌng ta coÌ thÃªÌ‰ choÌ£n mÃ´Ì£t haÌ€m bÄƒm mÃ´Ì£t caÌch ngÃ¢Ìƒu nhiÃªn Ä‘ÃªÌ‰ caÌc keys Ä‘Æ°Æ¡Ì£c phÃ¢n phÃ´Ìi hÆ¡Ì£p lyÌ vÆ¡Ìi xaÌc suÃ¢Ìt cao hÆ¡n sÆ°Ì£ lÆ°Ì£a choÌ£n cuÌ‰a haÌ€m bÄƒm. mÃ´Ì£t kyÌƒ thuÃ¢Ì£t tÆ°Æ¡ng tÆ°Ì£ coÌ thÃªÌ‰ aÌp duÌ£ng cho bÄƒm nhÃ¢Ìt quaÌn, do Ä‘oÌ yÃªu cÃ¢Ì€u xaÌc nhÃ¢Ì£n"xaÌc suÃ¢Ìt cao"  trong Ä‘iÌ£nh lyÌ trÃªn. Thay viÌ€ choÌ£n mÃ´Ì£t haÌ€m bÄƒm ngÃ¢Ìƒu nhiÃªn, chuÌng ta sÆ°Ì‰ duÌ£ng haÌ€m bÄƒm SHA-1 Ä‘Æ°Æ¡Ì£c mong Ä‘Æ¡Ì£i coÌ tiÌnh phÃ¢n bÃ´Ì tÃ´Ìt.   
tÃ¢Ìt nhiÃªn khi haÌ€m bÄƒm ngÃ¢Ìƒu nhiÃªn Ä‘aÌƒ Ä‘Æ°Æ¡Ì£c choÌ£n, mÃ´Ì£t keÌ‰ thuÌ€ coÌ thÃªÌ‰ choÌ£n mÃ´Ì£t tÃ¢Ì£p hÆ¡Ì£p caÌc keys phÃ¢n phÃ´Ìi tÃ´Ì€i cho haÌ€m bÄƒm Ä‘oÌ. trong Æ°Ìng duÌ£ng cuÌ‰a chuÌng tÃ´i, keÌ‰ thuÌ€ coÌ thÃªÌ‰ taÌ£o ra mÃ´Ì£t tÃ¢Ì£p caÌc key lÆ¡Ìn vaÌ€ cheÌ€n vaÌ€o voÌ€ng ring chiÌ‰ coÌ caÌc keys Ä‘oÌ maÌ€ aÌnh xaÌ£ tÆ¡Ìi mÃ´Ì£t node cuÌ£ thÃªÌ‰. do Ä‘oÌ viÃªÌ£c taÌ£o ra mÃ´Ì£t tÃ¢Ì£p caÌc keys Ä‘Æ°Æ¡Ì£c phÃ¢n phÃ´Ìi tÃ´Ì€i. NhÆ° vÆ¡Ìi haÌ€m bÄƒm chuÃ¢Ì‰n, tuy nhiÃªn, chuÌng tÃ´i hy voÌ£ng rÄƒÌ€ng mÃ´Ì£t sÆ°Ì£ khÃ´ng Ä‘Ã´Ìi nghiÌ£ch cuÌ‰a caÌc keys coÌ thÃªÌ‰ Ä‘Æ°Æ¡Ì£c phÃ¢n tiÌch nhÆ° thÃªÌ‰ noÌ laÌ€ ngÃ¢Ìƒu nhiÃªn. viÃªÌ£c sÆ°Ì‰ duÌ£ng giaÌ‰ Ä‘iÌ£nh naÌ€y, chuÌng ta Ä‘Æ°a ra nhiÃªÌ€u kÃªÌt quaÌ‰ dÆ°Æ¡Ìi Ä‘Ã¢y nhÆ° kÃªÌt quaÌ‰ "xaÌc suÃ¢Ìt cao".   
### **C. Simple Key Location**
phÃ¢Ì€n naÌ€y mÃ´ taÌ‰ mÃ´Ì£t thuÃ¢Ì£t toaÌn Chord Ä‘Æ¡n giaÌ‰n nhÆ°ng maÌ€ chÃ¢Ì£m. phÃ¢Ì€n tiÃªÌp theo mÃ´ taÌ‰ laÌ€m thÃªÌ naÌ€o Ä‘ÃªÌ‰ mÆ¡Ì‰ rÃ´Ì£ng thuÃ¢Ì£t toaÌn cÆ¡ baÌ‰n Ä‘ÃªÌ‰ tÄƒng hiÃªÌ£u quaÌ‰, vaÌ€ laÌ€m thÃªÌ naÌ€o Ä‘ÃªÌ‰ duy triÌ€ sÆ°Ì£ chiÌnh xaÌc cuÌ‰a thÃ´ng tin Ä‘iÌ£nh tuyÃªÌn cuÌ‰a chord. caÌc tra cÆ°Ìu  coÌ thÃªÌ‰ Ä‘Æ°Æ¡Ì£c thÆ°Ì£c thi trÃªn mÃ´Ì£t ring chord vÆ¡Ìi traÌ£ng thaÌi cuÌ‰a mÃ´Ìƒi node. . mÃ´Ìƒi node chiÌ‰ cÃ¢Ì€n biÃªÌt caÌch liÃªn laÌ£c vÆ¡Ìi nuÌt kÃªÌ tiÃªÌp hiÃªÌ£n taÌ£i trÃªn voÌ€ng troÌ€n. Truy vÃ¢Ìn cho mÃ´Ì£t Ä‘iÌ£nh danh coÌ thÃªÌ‰ theo voÌ€ng troÌ€n qua caÌc Ä‘iÃªÌ‰m kÃªÌ tiÃªÌp cho Ä‘ÃªÌn khi chuÌng gÄƒÌ£p Ä‘Æ°Æ¡Ì£c node mong muÃ´Ìn. thÆ°Ì hai trong cÄƒÌ£p laÌ€ node truy vÃ¢Ìn aÌnh xaÌ£ tÆ¡Ìi.   
Figure3(a) chiÌ‰ ra maÌƒ giaÌ‰ thÆ°Ì£c hiÃªÌ£n tra cÆ°Ìu key Ä‘Æ¡n giaÌ‰n. caÌc lÆ¡Ì€i goÌ£i tÆ°Ì€ xa vaÌ€ caÌc biÃªÌn tham chiÃªÌu Ä‘Æ°Æ¡Ì£c tÆ¡Ìi trÆ°Æ¡Ìc  bÆ¡Ì‰i Ä‘iÌ£nh danh cuÌ‰a node cuÌ£c bÃ´Ì£, trong khi biÃªÌn tham chiÃªÌu cuÌ£c bÃ´Ì£ vaÌ€ caÌc phÆ°Æ¡ng thÆ°Ìc goÌ£i boÌ‰ qua node cuÌ£c bÃ´Ì£. do Ä‘oÌ n.foo() duÌ€ng Ä‘ÃªÌ‰ chiÌ‰ mÃ´Ì£t lÆ¡Ì€i goÌ£i tÆ°Ì€ xa cuÌ‰a phÆ°Æ¡ng thÆ°Ì `foo`  trÃªn node n, trong khi n.bar. khÃ´ng coÌ dÃ¢u ngoÄƒÌ£c Ä‘Æ¡n, laÌ€ mÃ´Ì£t RPC Ä‘ÃªÌ‰ phÃ¢n tiÌch n tÆ°Ì€ node n. kyÌ hiÃªÌ£u (a,b] biÃªÌ‰u thiÌ£ cho Ä‘oaÌ£n cuÌ‰a Chord ring bÄƒÌ€ng caÌch di chuyÃªÌ‰n theo chiÃªÌ€u kim Ä‘Ã´Ì€ng hÃ´Ì€ tÆ°Ì€ a (khÃ´ng chÆ°Ìa a) Ä‘ÃªÌn b (bao gÃ´Ì€m caÌ‰ b).   
Figure3(b) chiÌ‰ ta mÃ´Ì£t viÌ duÌ£ trong Ä‘oÌ node 8 thÆ°Ì£c hiÃªÌ£n mÃ´Ì£t tiÌ€m kiÃªÌm key 54. node 8 gÆ¡Ì£i yÌ tiÌ€m node kÃªÌ tiÃªÌp cho key 54 maÌ€ cuÃ´Ìi cuÌ€ng traÌ‰ vÃªÌ€ node kÃªÌ tiÃªÌp cuÌ‰a key Ä‘oÌ, node 56. Truy vÃ¢Ìn thÄƒm moÌ£i node trÃªn ring giÆ°Ìƒa node 8 vÃ  56. káº¿t quáº£ tráº£ vá»  theo chiá»u ngÆ°á»£c cá»§a con Ä‘Æ°á»ng tiáº¿p theo bá»Ÿi truy váº¥n.     
![fig3.jpg](../fig3.png)       <br>
### **D. Scalable key location**
SÆ¡ Ä‘á»“ tra cá»©u Ä‘Ã£ trÃ¬nh bÃ y trong pháº§n trÆ°á»›c sá»­ dá»¥ng má»™t sá»‘ thÃ´ng Ä‘iá»‡p trong sá»‘ lÆ°á»£ng cÃ¡c node. Ä‘á»ƒ tÄƒng tá»‘c tra cá»©u, Chord duy trÃ¬ bá»• sung thÃ´ng tin Ä‘á»‹nh tuyáº¿n . thÃ´ng tin bá»• sung nÃ y khÃ´ng pháº£i lÃ  Ä‘iá»u cáº§n thiáº¿t cho sá»± chÃ­nh xÃ¡c, mÃ  Ä‘Æ°á»£c thá»±c hiá»‡n miá»…n lÃ  má»—i node biáº¿t chÃ­nh xÃ¡c node káº¿ tiáº¿p cá»§a nÃ³.   
NhÆ° trÆ°á»›c Ä‘Ã¢y, Ä‘á»ƒ m lÃ  sá»‘ bit trong cÃ¡c Ä‘á»‹nh danh key/node. Má»—i node n duy trÃ¬ má»™t báº£ng Ä‘á»‹nh tuyáº¿n lÃªn tá»›i m má»¥c( thá»±c táº¿ lÃ  O(log n) riÃªng biá»‡t ), Ä‘Æ°á»£c gá»i lÃ  báº£ng Ä‘á»‹nh tuyáº¿n (figure table). Má»¥c thá»© i trong báº£ng táº¡i node n chá»©a Ä‘á»‹nh danh cá»§a node s vá»›i s=successor(n + 2<sup>i-1</sup>), trong Ä‘Ã³ 1<= i<= m. chÃºng ta gá»i node s lÃ  finger thá»© i cá»§a node n, vÃ  biá»ƒu diá»…n báº±ng n.finger[i] (trong Table I hÃ¬nh bÃªn dÆ°á»›i) . Má»™t finger table bao gá»“m Ä‘á»‹nh danh Chord vÃ  Ä‘á»‹a chá»‰ IP(vÃ  sá»‘ cá»•ng) cá»§a node liÃªn quan.chÃº Ã½ ráº±ng finger Ä‘áº§u tiÃªn cá»§a node n lÃ  node káº¿ tiáº¿p cá»§a n trÃªn vÃ²ng trÃ²n.   
![fig5.jpg](../fig5.png)     <br>
![fig4.jpg](../fig4.png)       <br>
VÃ­ dá»¥ á»Ÿ Figure4(a) cho tháº¥y báº£ng finger table cá»§a node 8. finger Ä‘áº§u tiÃªn cá»§a node 8 lÃ  node 14, khi node 14 lÃ  node Ä‘áº§u tiÃªn káº¿  tiáº¿p (8 + 2<sup>0</sup>) mod 2<sup>6</sup>=9 . tÆ°Æ¡ng tá»±, finger cuá»‘i cÃ¹ng cá»§a node 8 lÃ  node 42,  khi node 42 lÃ  node Ä‘áº§u tiÃªn cá»§a káº¿ tiáº¿p (8 + 2<sup>5</sup>) mod 2<sup>6</sup> =40.   
Sá»± sáº¯p xáº¿p cÃ³ hai Ä‘áº·c Ä‘iá»ƒm quan trá»ng: 
    - má»—i node chá»‰ lÆ°u thÃ´ng tin cá»§a má»™t sá»‘ lÆ°á»£ng lÆ°á»£ng node khÃ¡c, vÃ  biáº¿t nhiá»u hÆ¡n vá» cÃ¡c node gáº§n theo sau nÃ³ trÃªn vÃ²ng trÃ²n hÆ¡n lÃ  cÃ¡c node xa hÆ¡n.
    - báº£ng finger table cá»§a má»™t node thÆ°á»ng thÆ°á»ng khÃ´ng chá»©a Ä‘áº§y Ä‘á»§ thÃ´ng tin Ä‘á»ƒ trá»±c tiáº¿p xÃ¡c Ä‘á»‹nh node káº¿ tiáº¿p cá»§a má»™t key tuá»³ Ã½. vÃ­ dá»¥: node 8 trong Fingure 4(a) khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹ng node káº¿ tiáº¿p cá»§a key 34, vÃ¬ node káº¿ tiáº¿p (node 38) nÃ y khÃ´ng xuáº¥t hiá»‡n trong finger table cá»§a node 8.     
![fig6.jpg](../fig6.png)     <br>
Figure 5 cho tháº¥y mÃ£ giáº£ cá»§a phÆ°Æ¡ng thá»©c _find-successor_ Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ rá»™ng Ä‘á»ƒ sá»­ dá»¥ng trong **finger table** . Náº¿u *id* á»Ÿ giá»¯a n vÃ  successor cá»§a nÃ³, *find_successor* káº¿t thÃºc vÃ  node n tráº£ vá» successor cá»§a nÃ³. Náº¿u khÃ´ng, n tÃ¬m kiáº¿m trÃªn *finger table* cá»§a nÃ³ node n' vá»›i ID gáº§n nháº¥t Ä‘á»©ng trÆ°á»›c *id*, vÃ  sau Ä‘Ã³ gá»i *find_successor* táº¡i n'.   
VÃ­ dá»¥: xem xÃ©t vÃ²ng trÃ²n Chord trong hÃ¬nh Figure 4(b), vÃ  giáº£ sá»­ node 8 muá»‘n tÃ¬m *successor* cá»§a key 54. khi Ä‘Ã³ finger lá»›n nháº¥t cá»§a 8 Ä‘á»©ng trÆ°á»›c 54 lÃ  node 42, node 8 sáº½ yÃªu cÃ¢u node 42 Ä‘á»ƒ giáº£i quyáº¿t. NgÆ°á»£c láº¡i, node 42 sáº½ xÃ¡c Ä‘á»‹nh finger lá»›n nháº¥t trong báº£ng *finger table* cá»§a nÃ³ Ä‘á»©ng trÆ°á»›c 54, tá»©c lÃ  node 51. Cuá»‘i cÃ¹ng, node 51 sáº½ tÃ¬m ra node káº¿ tiáº¿p cá»§a nÃ³, node 56, káº¿ tiáº¿p key 54, vÃ  do Ä‘Ã³ sáº½ tráº£ vá» node 56 cho node 8.   
Ä‘á»‹nh kÃ½ IV.2: vá»›i xÃ¡c suáº¥t cao, sá»‘ lÆ°á»£ng cÃ¡c node pháº£i Ä‘Æ°á»£c liÃªn há»‡ Ä‘á»ƒ tÃ¬m má»™t *successor* trong N node máº¡ng lÃ  O(log N).   
### **E. Dynamic Operation and Failures - cÃ¡c hoáº¡t Ä‘á»™ng vÃ  lá»—i** 
trong thá»±c táº¿, Chord cáº§n Ä‘á»‘i phÃ³ vá»›i cÃ¡c node tham gia há»‡ thá»‘ng vÃ  vá»›i cÃ¡c node Lá»—i hoáº·c tá»± Ã½ rá»i khá»i. pháº§n nÃ y mÃ´ táº£ cÃ¡ch Chord xá»­ lÃ½ cÃ¡c tÃ¬nh huá»‘ng nÃ y.   
#### **E.1 cÃ¡c node tham gia vÃ  sá»± á»•n Ä‘á»‹nh. **
Äá»ƒ Ä‘áº£m báº£o cÃ¡c tra cá»©u thá»±c thi chÃ­nh xÃ¡c khi cÃ¡c node tham gia  thay Ä‘á»•i. Chord pháº£i Ä‘áº£m báº£o ráº±ng má»—i con trá» káº¿ tiáº¿p cá»§a node Ä‘Æ°á»£c cáº­p nháº­t. nÃ³ thá»±c hiá»‡n báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c **stabilization** mÃ  má»—i node cháº¡y theo Ä‘á»‹nh ká»³ trong bá»‘i cáº£nh vÃ  cáº­p nháº­t cÃ¡c *finger table* cá»§a Chord vÃ  cÃ¡c con trá» Successor.   
![fig7.jpg](../fig7.png)    <br>
Figure 6 cho tháº¥y mÃ£ giáº£ cho cÃ¡c joins vÃ  stabilixation. khi node n Ä‘áº§u tiÃªn báº¯t Ä‘áº§u, nÃ³ gá»i n.join(n'), trong Ä‘Ã³ n' lÃ  báº¥t ká»³ node nÃ o Ä‘Æ°á»£c biáº¿t Ä‘áº¿n , hoáº·c n.create() Ä‘á»ƒ táº¡o má»™t máº¡ng Chord má»›i. hÃ m join() yÃªu cáº§u n' tÃ¬m kiáº¿m trá»±c tiáº¿p *successor* cá»§a n.    
Má»—i node cháº¡y stabilize() theo Ä‘á»‹nh ká»³ Ä‘á»ƒ tÃ¬m hiá»ƒu vá» cÃ¡c node vá»«a má»›i tham gia. Má»—i láº§n node n cháº¡y *stabilize()*, nÃ³ yÃªu cáº§u successor cá»§a nÃ³ Ä‘Æ°a predecessor p cá»§a successor, vÃ  quyáº¿t Ä‘á»‹nh xem p nÃªn lÃ  node káº¿ tiáº¿p cá»§a n hay khÃ´ng. Ä‘Ã¢y sáº½ lÃ  trÆ°á»ng há»£p náº¿u node p gáº§n Ä‘Ã¢y Ä‘Ã£ tham gia vÃ o há»‡ thá»‘ng. ngoÃ i ra, stabilize() thÃ´ng bÃ¡o sá»± cho successor cá»§a n vá» sá»± tá»“n táº¡i  cá»§a n. Cho successor cÆ¡ há»™i Ä‘á»ƒ thay Ä‘á»•i predecessor cá»§a nÃ³ Ä‘áº¿n n. successor chá»‰ lÃ m Ä‘iá»u nÃ y náº¿u nÃ³ biáº¿t khÃ´ng cÃ³ predecessor nÃ o gáº§n hÆ¡n n.     
Äá»‹nh ká»³ má»™t node gá»i *fix_fingers* Ä‘á»ƒ Ä‘áº£m báº£o cÃ¡c báº£ng table lÃ  chÃ­nh xÃ¡c. Ä‘Ã¢y lÃ  cÃ¡ch cÃ¡c node má»›i khá»Ÿi táº¡o cÃ¡c *finger table* cá»§a chÃºng, vÃ  Ä‘Ã³ lÃ  cÃ¡ch cÃ¡c node hiá»‡n cÃ³ káº¿t há»£p cÃ¡c node má»›i vÃ o cÃ¡c finger table cá»§a chÃºng. má»—i node cÅ©ng cháº¡y *check_predecessor* theo Ä‘á»‹nh ká»³, Ä‘á»ƒ xoÃ¡ con trá» *predecessor* cá»§a node náº¿u n.predecessor Ä‘Ã£ lá»—i. Ä‘iá»u nÃ y cho phÃ©p nÃ³ cháº¥p nháº­n má»™t *predecessor* má»›i trong *notify*.      
Má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n, giáº£ sá»­ node n tham gia há»‡ thá»‘ng, vÃ  ID cá»§a nÃ³ náº±m á»Ÿ giá»¯a node n<sub>p</sub> vÃ  n<sub>s</sub>, viá»‡c nÃ³ gá»i join(), n thu Ä‘Æ°á»£c n<sub>s</sub> lÃ  successor cá»§a nÃ³. Node n<sub>s</sub>khi Ä‘Æ°á»£c thÃ´ng bÃ¡o bá»Ÿi n, thu Ä‘Æ°á»£c n lÃ  predecessor cá»§a n<sub>s</sub>. khi n<sub>p</sub> tiáº¿p theochayj stabilize(), nÃ³ yÃªu cáº§u n<sub>s</sub> Ä‘Æ°a ra predecessor cá»§a nÃ³, n<sub>p</sub> khi Ä‘Ã³ thu Ä‘Æ°á»£c n lÃ  successor. Cuá»‘i cÃ¹ng,  n<sub>p</sub> thÃ´ng bÃ¡o cho n, vÃ  n thu Ä‘Æ°á»£c n<sub>p</sub> lÃ  predecessor cá»§a n. táº¡i thá»i Ä‘iá»ƒm nÃ y , táº¥t cáº£ con trá» precessor vÃ  successor lÃ  chÃ­nh xÃ¡c. Táº¡i má»—i bÆ°á»›c trong tiáº¿n trÃ¬nh, n<sub>s</sub> cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p tá»« n<sub>p</sub> sá»­ dá»¥ng con trá» successor, Ä‘iá»u nÃ y cÃ³ nghÄ©a ráº±ng **tra cá»©u** Ä‘á»“ng thá»i vá»›i **tham gia** lÃ  khÃ´ng bá»‹ giÃ¡n Ä‘oáº¡n. Figure 7 minh hoáº¡ cÃ¡ch thá»©c tham gia, khi ID cá»§a n lÃ  26, vÃ  cÃ¡c ID cá»§a n<sub>s</sub>,tÆ°Æ¡ng á»©ng n<sub>p</sub> lÃ  21 vÃ  32.   
Ngay khi cÃ¡c con trá» successor lÃ  chÃ­nh xÃ¡c, cÃ¡c cuá»™c gá»i tá»›i *find_successor()* sáº½ pháº£n Ã¡nh node má»›i. viá»‡c cÃ¡c node tham gia má»›i Ä‘Ã¢y mÃ  váº«n chÆ°a Ä‘Æ°á»£c pháº£n Ã¡nh trong cÃ¡c báº£ng cá»§a cÃ¡c node khÃ¡c cÃ³ thá»ƒ dáº«n Ä‘áº¿n *find_successor()* bÆ°á»›c Ä‘áº§u khÃ´ng Ä‘áº¡t, nhÆ°ng vÃ²ng láº·p trong thuáº­t toÃ¡n tra cá»©u sáº½ váº«n tiáº¿p tá»¥c cÃ¡c con trá» káº¿ tiáº¿p qua cÃ¡c node má»›i tham gia cho Ä‘áº¿n khi prodecessor Ä‘Æ°á»£c Ä‘Æ°a ra chÃ­nh xÃ¡c. Cuá»‘i cÃ¹ng sá»­a fingers() sáº½ Ä‘iá»u chá»‰nh cÃ¡c má»¥c finger table.   
Äá»‹nh lÃ½ 3: náº¿u báº¥t ká»³ cÃ¡c hoáº¡t Ä‘á»™ng tham gia tuáº§n tá»± Ä‘Æ°á»£c thá»±c thi xen káº½ vá»›i sá»± á»•n Ä‘á»‹nh, khi Ä‘Ã³ táº¡i khoáº£ng thá»i gian cuá»‘i cÃ¹ng tham gia cÃ¡c con trá» káº¿ tiáº¿p sáº½ hÃ¬nh thÃ nh má»™t vÃ²ng trÃ²n trÃªn táº¥t cáº£ cÃ¡c node trong máº¡ng. NÃ³i cÃ¡ch khÃ¡c, sau má»™t khoáº£ng thá»i gian, má»—i node cÃ³ thá»ƒ Ä‘Æ°a ra báº¥t ká»³ node khÃ¡c trong máº¡ng bá»Ÿi cÃ¡c con trá» tiáº¿p theo.   
ChÆ°Æ¡ng trÃ¬nh lÃ m viá»‡c á»•n Ä‘á»‹nh cá»§a chÃºng tÃ´i Ä‘áº£m báº£o thÃªm cÃ¡c node tá»›i má»™t vÃ²ng chord theo cÃ¡ch giá»¯ kháº£ nÄƒng káº¿t ná»‘i cá»§a cÃ¡c node hiá»‡n cÃ³. Ngay cáº£ khi Ä‘á»‘i máº·t Ä‘á»“ng thá»i viá»‡c tham gia vÃ  máº¥t Ä‘i vÃ  sáº¯p xáº¿p láº¡i cÃ¡c thÃ´ng Ä‘iá»‡p. Giao thá»©c á»•n Ä‘á»‹nh nÃ y sáº½ khÃ´ng Ä‘Æ°á»£c sá»­a chá»¯a trong má»™t há»‡ thá»‘ng Chord mÃ  Ä‘Ã£ chia ra thÃ nh nhiá»u vÃ²ng khÃ´ng liÃªn tá»¥c, hoáº·c má»™t vÃ²ng Ä‘Æ¡n láº·p láº¡i nhiá»u láº§n xung quanh khÃ´ng gian Ä‘á»‹nh danh. Nhá»¯ng trÆ°á»ng há»£p vÃ´ lÃ½ nÃ y khÃ´ng thá»ƒ Ä‘Æ°á»£c táº¡o ra bá»Ÿi báº¥t ká»³ chuá»—i cá»§a cÃ¡c node tham gia. náº¿u Ä‘Æ°á»£c táº¡o ra,  cÃ¡c trÆ°á»ng há»£p nÃ y cÃ³ thá»ƒ phÃ¡t hiá»‡n vÃ  sá»­a sá»­a báº±ng cÃ¡ch láº¥y máº«u Ä‘á»‹nh ká»³ cá»§a cáº¥u trÃºc vÃ²ng.





